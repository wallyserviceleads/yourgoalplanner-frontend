/* Minimal, neutral styles (light/dark) */
:root{
  --bg:#0f1115; --panel:#171a21; --text:#e8ecf2; --muted:#8e97a8; --ring:#2b3240;
  --accent:#6aa7ff; --goal:#ffd166;
}
:root[data-theme='light']{
  --bg:#ffffff; --panel:#ffffff; --text:#0f1115; --muted:#667188; --ring:#e7e9ef;
  --accent:#225bda; --goal:#9b7b00;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:14px/1.4 system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

.hidden{display:none}

.app-header{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:12px 16px;background:var(--panel);border-bottom:1px solid var(--ring);position:sticky;top:0;z-index:10}
.brand{display:flex;align-items:center;gap:10px}
.logo{height:28px;width:auto;opacity:.9}
.titles h1{margin:0;font-size:18px}
.goal-summary{color:var(--muted);font-size:12px;margin-top:2px}
.goal-summary.with-indicator{display:flex;align-items:center;gap:6px}
.goal-summary.with-indicator .goal-summary-text{display:inline}
.goal-progress-indicator{display:inline-flex;align-items:center;flex-shrink:0}
.goal-progress-indicator > .pill,.goal-progress-indicator > .pace-icon{margin-right:0}
.kpi-value.with-indicator{display:flex;align-items:center;gap:6px}.controls{display:flex;align-items:center;gap:8px}
.icon-btn{display:inline-flex;align-items:center;justify-content:center;height:34px;padding:0 10px;border:1px solid var(--ring);background:transparent;border-radius:8px;color:var(--text);cursor:pointer}
.icon-btn:hover{border-color:var(--accent)}

.kpis{display:grid;grid-template-columns:repeat(5,minmax(120px,1fr));gap:8px;padding:12px 16px}
.kpi{background:var(--panel);border:1px solid var(--ring);border-radius:10px;padding:10px}
.kpi-label{color:var(--muted);font-size:12px;margin-bottom:4px}
.kpi-value{font-size:18px}

.nav{display:flex;align-items:center;justify-content:center;gap:12px;padding:8px 16px;position:sticky;top:54px;z-index:9;background:var(--bg)}
.nav h2{margin:0}

.calendar{padding:0 16px 24px}
.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
.day{background:var(--panel);border:1px solid var(--ring);border-radius:10px;min-height:110px;display:flex;flex-direction:column}
.day .date{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;border-bottom:1px dashed var(--ring);font-weight:600}
.day .date .pace{display:flex;align-items:center;gap:6px;color:var(--muted);font-weight:500}
.items{padding:8px 10px;display:flex;flex-direction:column;gap:6px}
.item{display:flex;align-items:center;justify-content:space-between}
.item .amount{font-variant-numeric:tabular-nums}
.total{margin-top:auto;padding:8px 10px;border-top:1px dashed var(--ring);display:flex;align-items:center;justify-content:space-between}
.week-row{grid-column:1 / -1;background:var(--panel);border:1px solid var(--ring);border-radius:10px;padding:8px 10px;display:flex;align-items:center;justify-content:space-between}

.pill{display:inline-block;width:10px;height:10px;border-radius:999px;margin-right:6px;vertical-align:middle}
.pill.goal{background:var(--goal)}
.pill.goal-low{background:#d64545}
.pill.goal-low{background:#d64545}
.pill.goal-mid{background:#f6c343}
.pill.goal-high{background:#3ac779}
.pace-icon{display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;margin-right:6px;font-size:14px;line-height:1;vertical-align:middle}
.pace-icon.star,.pace-icon.crown{color:#f5c542;text-shadow:0 0 4px rgba(0,0,0,.25)}
.pill.goal-mid{background:#f6c343}
.pill.goal-high{background:#3ac779}
.pace-icon{display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;margin-right:6px;font-size:14px;line-height:1;vertical-align:middle}
.pace-icon.star,.pace-icon.crown{color:#f5c542;text-shadow:0 0 4px rgba(0,0,0,.25)}

dialog::backdrop { background: rgba(0,0,0,.5); }
#settingsModal{border:none;border-radius:12px;max-width:760px;width:96vw;background:var(--panel);color:var(--text);}
.settings-form{padding:14px;display:flex;flex-direction:column;gap:12px}
.settings-header{display:flex;align-items:center;justify-content:space-between}
.settings-section{border:1px solid var(--ring);border-radius:12px;padding:12px}
.settings-section h4{margin:0 0 8px 0}
.settings-section label.field{display:grid;gap:6px;font-size:13px}
.settings-section input[type=text],
.settings-section input[type=number],
.settings-section input[type=date],
.settings-section input[type=url]{width:100%;border:1px solid var(--ring);background:transparent;color:inherit;border-radius:8px;padding:8px 10px}
.settings-hint{margin:8px 0 0 0;font-size:12px;color:var(--muted)}
.settings-status{margin:8px 0 0 0;font-size:12px;min-height:18px;color:var(--muted)}
.settings-status[data-kind="success"]{color:#3ac779}
.settings-status[data-kind="error"]{color:#ff6b6b}
.grid-2{display:grid;grid-template-columns:repeat(2, minmax(180px, 1fr));gap:10px}
.settings-footer{display:flex;justify-content:flex-end;gap:10px}
.data-actions button,.settings-footer button,.icon-btn{cursor:pointer}
.weekday-toggles{display:flex;flex-wrap:wrap;gap:8px}
.switch-row{display:flex;align-items:center;gap:8px}

@media (max-width: 900px){
  .kpis{grid-template-columns:repeat(2,1fr)}
  .grid-2{grid-template-columns:1fr}
}


/* Highlight current day */
.day.today{border-color:#FA0000;box-shadow:0 0 0 2px #FA0000 inset}

/* Modal */
.modal::backdrop { background: rgba(0,0,0,.35); }
.modal {
  border: 1px solid var(--ring);
  background: var(--panel, #141414);
  color: inherit;
  border-radius: 12px;
  padding: 0;
  width: min(92vw, 420px);
}
.modal-inner { padding: 16px; display: grid; gap: 12px; }
.modal-inner h3 { margin: 0 0 4px; font-size: 18px; }
.modal .row { display: grid; gap: 6px; }
.modal input {
  border: 1px solid var(--ring);
  background: transparent;
  color: inherit;
  border-radius: 8px;
  padding: 10px 12px;
}
.modal .actions { display: flex; justify-content: flex-end; gap: 8px; margin-top: 4px; }
.modal .actions button {
  border: 1px solid var(--ring);
  background: transparent;
  color: inherit;
  border-radius: 8px;
  padding: 8px 12px;
  cursor: pointer;
}
.modal .actions button:hover { border-color: var(--accent); }

.modal .actions .danger { border-color: #ff4d4f; color: #ff4d4f; }
.modal .actions .danger:hover { background: rgba(255,77,79,.08); }

/* Ensure day cells accept clicks */
.day { cursor: pointer; pointer-events: auto; }
/* Keep the dialog above everything when open */
.modal { z-index: 100000; }
